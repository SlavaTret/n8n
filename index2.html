<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <title>DOMOTEC Air Fryer – аерофритюрниці MS‑3225 та MS‑3226</title>
  <meta name="description" content="Аерофритюрниці DOMOTEC Air Fryer MS‑3225 та MS‑3226 зі знижкою. Готування без олії, обʼєм 7–7.6 л, потужність до 4800 Вт. Доставка Новою поштою або Укрпоштою." />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta property="og:type" content="website">
  <meta property="og:title" content="DOMOTEC Air Fryer – зі знижкою">
  <meta property="og:description" content="Дві моделі DOMOTEC Air Fryer: 7 л та 7.6 л. Смачне хрумке без зайвої олії.">
  <meta property="og:image" content="https://slavatret.github.io/n8n/download.png">

  <style>
    :root {
      --bg: #020617;
      --card-bg: #020617;
      --accent: #f97316;
      --accent-strong: #ea580c;
      --accent-soft: rgba(249,115,22,0.14);
      --text: #e5e7eb;
      --muted: #9ca3af;
      --border: #1f2937;
      --radius-lg: 18px;
      --radius-md: 14px;
      --danger: #f97373;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #020617 0, #020617 55%, #000 100%);
      color: var(--text);
      line-height: 1.6;
    }
    img { max-width: 100%; display: block; }
    a { color: inherit; text-decoration: none; }

    .container {
      width: 100%;
      max-width: 1120px;
      margin: 0 auto;
      padding: 0 18px;
    }

    header {
      position: sticky;
      top: 0;
      z-index: 20;
      backdrop-filter: blur(14px);
      background: rgba(2, 6, 23, 0.9);
      border-bottom: 1px solid rgba(15,23,42,0.8);
    }
    header .wrap {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px;
      gap: 16px;
    }
    .logo {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 600;
      font-size: 15px;
      letter-spacing: 0.06em;
      text-transform: uppercase;
    }
    .logo span {
      padding: 4px 8px;
      border-radius: 999px;
      background: var(--accent-soft);
      color: var(--accent);
      font-size: 11px;
      font-weight: 700;
    }
    nav ul {
      list-style: none;
      display: flex;
      gap: 18px;
      font-size: 13px;
      color: var(--muted);
    }
    nav a:hover { color: var(--text); }

    .btn {
      border: none;
      border-radius: 999px;
      padding: 9px 19px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      transition: transform .15s ease, box-shadow .15s ease, background .15s ease, color .15s ease;
      white-space: nowrap;
    }
    .btn-primary {
      background: linear-gradient(135deg, var(--accent), var(--accent-strong));
      color: #fff;
      box-shadow: 0 10px 25px rgba(248, 113, 22, .5);
    }
    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 14px 35px rgba(248, 113, 22, .65);
    }
    .btn-ghost {
      background: rgba(15,23,42,0.8);
      color: var(--muted);
      border: 1px solid var(--border);
    }
    .btn-ghost:hover {
      background: rgba(15,23,42,1);
      color: var(--text);
    }
    .btn-sm {
      padding: 6px 12px;
      font-size: 12px;
    }

    main { padding-bottom: 72px; }

    /* HERO */
    .hero { padding: 32px 0 40px; }
    .hero-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.1fr);
      gap: 32px;
      align-items: center;
    }
    .eyebrow {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(15,23,42,0.9);
      border: 1px solid rgba(55,65,81,0.9);
      font-size: 11px;
      color: var(--muted);
      margin-bottom: 10px;
    }
    .eyebrow span {
      background: var(--accent-soft);
      color: var(--accent);
      border-radius: 999px;
      padding: 2px 8px;
      font-weight: 700;
      letter-spacing: 0.06em;
      text-transform: uppercase;
    }
    .hero-title {
      font-size: clamp(28px, 4vw, 36px);
      line-height: 1.1;
      margin-bottom: 12px;
    }
    .hero-title strong { color: var(--accent); }
    .hero-sub {
      font-size: 14px;
      color: var(--muted);
      max-width: 460px;
    }
    .hero-cta {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 18px;
      align-items: center;
    }
    .hero-meta {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 14px;
      font-size: 12px;
      color: var(--muted);
    }
    .hero-chip {
      padding: 4px 9px;
      border-radius: 999px;
      background: rgba(15,23,42,0.9);
      border: 1px solid var(--border);
    }

    .hero-media { position: relative; }
    .hero-card {
      position: relative;
      border-radius: 26px;
      padding: 18px;
      background:
        radial-gradient(circle at top left, rgba(148, 163, 184, 0.18), transparent 55%),
        radial-gradient(circle at bottom right, rgba(248, 113, 22, 0.28), transparent 60%),
        #020617;
      border: 1px solid rgba(30, 64, 175, 0.35);
      box-shadow: 0 24px 65px rgba(15,23,42,0.95);
      overflow: hidden;
    }
    .hero-main-img {
      border-radius: 18px;
      padding: 12px 22px 6px;
    }
    .hero-main-img img {
      margin: 0 auto;
      max-height: 260px;
      object-fit: contain;
    }
    .hero-tags {
      position: absolute;
      inset: auto 18px 16px auto;
      display: flex;
      flex-direction: column;
      gap: 8px;
      align-items: flex-end;
    }
    .hero-tag {
      padding: 5px 9px;
      border-radius: 999px;
      background: rgba(15,23,42,0.9);
      border: 1px solid rgba(55,65,81,0.9);
      font-size: 11px;
      color: var(--muted);
      backdrop-filter: blur(4px);
    }
    .hero-tag strong { color: var(--accent); }

    /* Section base */
    section { padding: 18px 0 0; }
    .section-heading {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 12px;
      margin-bottom: 18px;
    }
    .section-heading h2 { font-size: 20px; }
    .section-heading p { font-size: 13px; color: var(--muted); }

    /* Products */
    .products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 18px;
    }
    .product-card {
      background: var(--card-bg);
      border-radius: var(--radius-lg);
      border: 1px solid var(--border);
      padding: 16px 16px 14px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .product-tag {
      font-size: 11px;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }
    .product-title { font-size: 16px; font-weight: 600; }
    .product-spec { font-size: 13px; color: var(--muted); }

    .price-row {
      display: flex;
      align-items: baseline;
      gap: 8px;
      margin-top: 4px;
    }
    .price-new {
      font-size: 20px;
      font-weight: 700;
      color: #facc15;
    }
    .price-old {
      font-size: 13px;
      color: var(--muted);
      text-decoration: line-through;
    }
    .price-badge {
      font-size: 11px;
      padding: 2px 7px;
      border-radius: 999px;
      background: var(--accent-soft);
      color: var(--accent);
    }

    .product-media {
      border-radius: var(--radius-md);
      background: radial-gradient(circle at top, rgba(15,23,42,0.7), rgba(15,23,42,1));
      padding: 10px;
      margin-top: 4px;
    }
    .product-media img {
      max-height: 190px;
      margin: 0 auto;
      object-fit: contain;
    }

    .product-footer {
      margin-top: 8px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      font-size: 12px;
      color: var(--muted);
    }
    .product-badges {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
    .pill {
      padding: 2px 8px;
      border-radius: 999px;
      background: rgba(15,23,42,0.9);
      border: 1px solid var(--border);
      font-size: 11px;
    }
    .product-actions {
      display: flex;
      flex-direction: column;
      gap: 6px;
      align-items: flex-end;
    }

    /* Benefits strip */
    .benefits-strip {
      margin-top: 28px;
      padding: 10px 14px;
      border-radius: 999px;
      background: rgba(15,23,42,0.9);
      border: 1px solid var(--border);
      font-size: 12px;
      color: var(--muted);
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
      justify-content: center;
    }
    .benefits-strip span {
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }
    .dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: var(--accent);
    }

    /* Modals */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(15,23,42,0.8);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 40;
      padding: 16px;
    }
    .modal {
      width: 100%;
      max-width: 460px;
      background: #020617;
      border-radius: 20px;
      border: 1px solid rgba(55,65,81,0.9);
      box-shadow: 0 30px 80px rgba(0,0,0,0.9);
      padding: 18px 18px 14px;
      position: relative;
    }
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
    }
    .modal-title { font-size: 16px; font-weight: 600; }
    .modal-close {
      border: none;
      background: transparent;
      color: var(--muted);
      cursor: pointer;
      font-size: 18px;
      line-height: 1;
    }
    .modal-sub {
      font-size: 12px;
      color: var(--muted);
      margin-bottom: 12px;
    }

    .modal-scroll {
      max-height: 60vh;
      overflow-y: auto;
      padding-right: 2px;
    }

    form { font-size: 13px; }
    .form-group { margin-bottom: 10px; }
    label {
      display: block;
      margin-bottom: 4px;
      color: #e5e7eb;
      font-size: 12px;
    }
    input, select, textarea {
      width: 100%;
      border-radius: 10px;
      border: 1px solid #4b5563;
      background: #020617;
      padding: 7px 9px;
      color: var(--text);
      font-size: 13px;
      outline: none;
      transition: border-color .15s, box-shadow .15s;
    }
    input::placeholder, textarea::placeholder { color: #6b7280; }
    input:focus, select:focus, textarea:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(249,115,22,0.7);
    }
    textarea { min-height: 70px; resize: vertical; }

    .modal-footer {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin-top: 4px;
      font-size: 11px;
      color: var(--muted);
    }
    .form-status { font-size: 12px; }
    .form-status.success { color: #22c55e; }
    .form-status.error { color: var(--danger); }

    .delivery-row {
      display: grid;
      grid-template-columns: 1.1fr 1.2fr;
      gap: 8px;
    }

    /* AUTOCOMPLETE */
    .autocomplete-wrapper {
      position: relative;
    }
    .autocomplete-list {
      position: absolute;
      left: 0;
      right: 0;
      top: 100%;
      margin-top: 4px;
      background: #020617;
      border-radius: 10px;
      border: 1px solid #4b5563;
      max-height: 190px;
      overflow-y: auto;
      font-size: 12px;
      display: none;
      z-index: 50;
    }
    .autocomplete-item {
      padding: 6px 9px;
      cursor: pointer;
    }
    .autocomplete-item:hover {
      background: #111827;
    }
    .autocomplete-empty {
      padding: 6px 9px;
      color: var(--muted);
    }

    footer {
      padding: 18px 0 26px;
      font-size: 11px;
      color: var(--muted);
      text-align: center;
    }

    @media (max-width: 900px) {
      nav { display: none; }
      .hero-grid { grid-template-columns: 1fr; gap: 22px; }
      .hero-card { margin-left: auto; margin-right: auto; max-width: 380px; }
    }
    @media (max-width: 640px) {
      .hero { padding-top: 22px; }
      .benefits-strip {
        border-radius: 16px;
        align-items: flex-start;
      }
      .delivery-row { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
<header>
  <div class="container wrap">
    <div class="logo">
      <span>DOMOTEC</span>
      Air Fryer
    </div>
    <nav aria-label="Основна навігація">
      <ul>
        <li><a href="#models">Моделі</a></li>
        <li><a href="#benefits">Переваги</a></li>
      </ul>
    </nav>
    <button class="btn btn-primary" data-open-modal>Замовити зараз</button>
  </div>
</header>

<main>
  <!-- HERO -->
  <section class="hero">
    <div class="container hero-grid">
      <div>
        <div class="eyebrow">
          <span>-25% зараз</span>
          Аерофритюрниці DOMOTEC • до 200°C без олії
        </div>
        <h1 class="hero-title">
          Хрумка їжа <strong>без фритюру</strong> вдома
        </h1>
        <p class="hero-sub">
          Дві моделі DOMOTEC Air Fryer: 7 л для щоденного використання
          та 7.6 л із двома секціями – для великої сімʼї та гостей.
        </p>

        <div class="hero-cta">
          <button class="btn btn-primary" data-open-modal>
            Оформити зі знижкою
          </button>
          <button class="btn btn-ghost" onclick="document.getElementById('models').scrollIntoView({behavior:'smooth'});">
            Подивитись моделі
          </button>
        </div>

        <div class="hero-meta">
          <span class="hero-chip">Без олії або з мінімальною кількістю</span>
          <span class="hero-chip">Доставка Новою поштою або Укрпоштою</span>
        </div>
      </div>

      <div class="hero-media">
        <div class="hero-card">
          <div class="hero-main-img">
            <img src="https://slavatret.github.io/n8n/ms-3225-3226.png"
                 alt="Аерофритюрниця DOMOTEC Air Fryer MS‑3225" loading="lazy">
          </div>
          <div class="hero-tags">
            <div class="hero-tag">
              MS‑3225 · <strong>7 л</strong>
            </div>
            <div class="hero-tag">
              MS‑3226 · <strong>7.6 л · 2 секції</strong>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- MODELS -->
  <section id="models">
    <div class="container">
      <div class="section-heading">
        <h2>Дві моделі – під різні задачі</h2>
        <p>Коротко: обʼєм, потужність, для кого та скільки коштує.</p>
      </div>

      <div class="products-grid">
        <!-- MS-3225 -->
        <article class="product-card" data-product="ms3225">
          <div class="product-tag">MS‑3225 · 7 л</div>
          <h3 class="product-title">Односекційна аерофритюрниця DOMOTEC</h3>
          <p class="product-spec">
            7 л · 3500 Вт · до 200°C · таймер до 3 годин.
          </p>

          <div class="price-row">
            <div class="price-new">2 199 грн</div>
            <div class="price-old">2 900 грн</div>
            <div class="price-badge">акція</div>
          </div>

          <div class="product-media">
            <img src="https://slavatret.github.io/n8n/ms-3225.png"
                 alt="Коробка DOMOTEC Air Fryer MS‑3225">
          </div>

          <div class="product-footer">
            <div class="product-badges">
              <span class="pill">3–5 осіб</span>
              <span>Щоденне приготування для сімʼї</span>
            </div>
            <div class="product-actions">
              <button class="btn btn-primary btn-sm" data-open-modal data-model="DOMOTEC MS-3225 7 л">
                Замовити
              </button>
              <button class="btn btn-ghost btn-sm" data-open-details data-product="ms3225">
                Деталі
              </button>
            </div>
          </div>
        </article>

        <!-- MS-3226 -->
        <article class="product-card" data-product="ms3226">
          <div class="product-tag">MS‑3226 · 7.6 л</div>
          <h3 class="product-title">Двосекційна аерофритюрниця DOMOTEC</h3>
          <p class="product-spec">
            7.6 л · 4800 Вт · 2 секції · таймер до 60 хв.
          </p>

          <div class="price-row">
            <div class="price-new">2 999 грн</div>
            <div class="price-old">4 500 грн</div>
            <div class="price-badge">акція</div>
          </div>

          <div class="product-media">
            <img src="https://slavatret.github.io/n8n/download.png"
                 alt="Коробка DOMOTEC Air Fryer MS‑3226">
          </div>

          <div class="product-footer">
            <div class="product-badges">
              <span class="pill">5+ осіб</span>
              <span>Дві страви одночасно без змішування смаків</span>
            </div>
            <div class="product-actions">
              <button class="btn btn-primary btn-sm" data-open-modal data-model="DOMOTEC MS-3226 7.6 л · 2 секції">
                Замовити
              </button>
              <button class="btn btn-ghost btn-sm" data-open-details data-product="ms3226">
                Деталі
              </button>
            </div>
          </div>
        </article>
      </div>

      <div id="benefits" class="benefits-strip">
        <span><span class="dot"></span> До 90% менше олії</span>
        <span><span class="dot"></span> Хрумка скоринка та соковите всередині</span>
        <span><span class="dot"></span> Знімні кошики – легко мити</span>
        <span><span class="dot"></span> Доставка Новою поштою або Укрпоштою по Україні</span>
      </div>
    </div>
  </section>
</main>

<!-- MODAL ORDER -->
<div class="modal-backdrop" id="orderModal" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal-header">
      <div class="modal-title" id="modalTitle">Залиште заявку</div>
      <button class="modal-close" type="button" aria-label="Закрити" data-close-modal>&times;</button>
    </div>
    <p class="modal-sub">
      Ми перетелефонуємо, уточнимо замовлення та оформимо доставку.
    </p>

    <div class="modal-scroll">
      <form id="leadForm" novalidate>
        <div class="form-group">
          <label for="name">ПІБ отримувача *</label>
          <input type="text" id="name" name="name" required placeholder="Наприклад, Ляшенко Олександр Іванович">
        </div>
        <div class="form-group">
          <label for="phone">Телефон *</label>
          <input type="tel" id="phone" name="phone" required placeholder="+380...">
        </div>

        <div class="form-group">
          <label for="model">Модель</label>
          <select id="model" name="model">
            <option value="">Ще думаю</option>
            <option value="DOMOTEC MS-3225 7 л">DOMOTEC MS‑3225, 7 л</option>
            <option value="DOMOTEC MS-3226 7.6 л · 2 секції">DOMOTEC MS‑3226, 7.6 л, 2 секції</option>
          </select>
        </div>

        <!-- Спосіб доставки -->
        <div class="form-group">
          <label for="deliveryMethod">Спосіб доставки *</label>
          <select id="deliveryMethod" name="deliveryMethod" required>
            <option value="nova_poshta" selected>Нова пошта (відділення)</option>
            <option value="ukrposhta">Укрпошта</option>
          </select>
        </div>

        <!-- Блок Нової пошти -->
        <div class="form-group" id="npBlock">
          <label>Доставка Новою поштою</label>
          <div class="delivery-row">
            <div class="autocomplete-wrapper">
              <input type="text" id="npCity" placeholder="Місто (почніть вводити)" autocomplete="off">
              <div id="npCityList" class="autocomplete-list"></div>
              <small id="npCityHint" style="color:var(--muted);font-size:11px;">Введіть мінімум 2 літери.</small>
            </div>
            <div class="autocomplete-wrapper">
              <input type="text" id="npWarehouse" placeholder="Відділення: номер або адреса" autocomplete="off" disabled>
              <div id="npWarehouseList" class="autocomplete-list"></div>
            </div>
          </div>
        </div>

        <!-- Блок Укрпошти -->
        <div class="form-group" id="ukrBlock" style="display:none;">
          <label>Доставка Укрпоштою</label>
          <div class="delivery-row">
            <div class="autocomplete-wrapper">
              <input type="text" id="ukrCity" placeholder="Місто (почніть вводити)" autocomplete="off">
              <div id="ukrCityList" class="autocomplete-list"></div>
              <small id="ukrCityHint" style="color:var(--muted);font-size:11px;">Введіть мінімум 2 літери.</small>
            </div>
            <div class="autocomplete-wrapper">
              <input type="text" id="ukrOffice" placeholder="Відділення: номер або адреса" autocomplete="off" disabled>
              <div id="ukrOfficeList" class="autocomplete-list"></div>
            </div>
          </div>
        </div>

        <!-- Спосіб оплати -->
        <div class="form-group">
          <label for="paymentMethod">Спосіб оплати *</label>
          <select id="paymentMethod" name="paymentMethod" required>
            <option value="cash_on_delivery" selected>Накладений платіж (оплата при отриманні)</option>
            <option value="card">Оплата карткою</option>
          </select>
        </div>

        <div class="form-group">
          <label for="message">Коментар</label>
          <textarea id="message" name="message" placeholder="Напишіть ваш коментар"></textarea>
        </div>

        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">Надіслати</button>
          <div id="formStatus" class="form-status"></div>
          <p>Натискаючи «Надіслати», ви погоджуєтеся на обробку персональних даних.</p>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- MODAL DETAILS -->
<div class="modal-backdrop" id="detailsModal" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="detailsTitle">
    <div class="modal-header">
      <div class="modal-title" id="detailsTitle">Характеристики</div>
      <button class="modal-close" type="button" aria-label="Закрити" data-close-details>&times;</button>
    </div>
    <div class="modal-scroll" id="detailsContent"></div>
  </div>
</div>

<footer>
  <div class="container">
    © <span id="year"></span> DOMOTEC Air Fryer
  </div>
</footer>

<script>
  document.getElementById('year').textContent = new Date().getFullYear();

  const orderModal = document.getElementById('orderModal');
  const detailsModal = document.getElementById('detailsModal');
  const modelSelect = document.getElementById('model');
  const openOrderBtns = document.querySelectorAll('[data-open-modal]');
  const closeOrderBtns = document.querySelectorAll('[data-close-modal]');
  const openDetailsBtns = document.querySelectorAll('[data-open-details]');
  const closeDetailsBtns = document.querySelectorAll('[data-close-details]');
  const detailsContent = document.getElementById('detailsContent');
  const formStatus = document.getElementById('formStatus');
  const leadForm = document.getElementById('leadForm');

  const deliveryMethodSelect = document.getElementById('deliveryMethod');
  const npBlock = document.getElementById('npBlock');
  const ukrBlock = document.getElementById('ukrBlock');
  const paymentMethodSelect = document.getElementById('paymentMethod');

  function openOrderModal(prefillModel) {
    if (prefillModel && modelSelect) modelSelect.value = prefillModel;
    orderModal.style.display = 'flex';
    orderModal.setAttribute('aria-hidden', 'false');
  }
  function closeOrderModal() {
    orderModal.style.display = 'none';
    orderModal.setAttribute('aria-hidden', 'true');
  }
  function openDetailsModal(productKey) {
    const html = productKey === 'ms3225'
      ? `
        <p class="modal-sub"><strong>DOMOTEC Air Fryer MS‑3225, 7 л, 3500 Вт</strong></p>
        <ul style="font-size:13px;color:var(--muted);margin-bottom:10px;padding-left:18px;">
          <li>Обʼєм кошика: 7 л</li>
          <li>Потужність: 3500 Вт</li>
          <li>Температурний діапазон: 80–200°C</li>
          <li>Таймер: до 3 годин</li>
          <li>Тип керування: механічне</li>
          <li>Два нагрівальні елементи для рівномірного прогріву</li>
          <li>Корпус: метал / пластик</li>
        </ul>
        <p style="font-size:13px;color:var(--muted);">
          Ідеальна для сімʼї 3–5 осіб. Готує майже без олії, легко миється завдяки знімним частинам.
        </p>
      `
      : `
        <p class="modal-sub"><strong>DOMOTEC Air Fryer MS‑3226, 7.6 л, 4800 Вт</strong></p>
        <ul style="font-size:13px;color:var(--muted);margin-bottom:10px;padding-left:18px;">
          <li>Загальний обʼєм: 7.6 л</li>
          <li>Потужність: 4800 Вт</li>
          <li>Дві незалежні секції для різних страв</li>
          <li>Температурний діапазон: 80–200°C</li>
          <li>Таймер: до 60 хвилин</li>
          <li>Тип керування: механічне</li>
          <li>Два нагрівальні елементи</li>
          <li>Корпус: метал / пластик</li>
        </ul>
        <p style="font-size:13px;color:var(--muted);">
          Підходить для 5+ осіб, свят, вечірок. Можна одночасно готувати мʼясо та гарнір без змішування смаків.
        </p>
      `;
    detailsContent.innerHTML = html;
    detailsModal.style.display = 'flex';
    detailsModal.setAttribute('aria-hidden', 'false');
  }
  function closeDetailsModal() {
    detailsModal.style.display = 'none';
    detailsModal.setAttribute('aria-hidden', 'true');
  }

  openOrderBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      const m = btn.getAttribute('data-model');
      openOrderModal(m);
    });
  });
  closeOrderBtns.forEach(btn => btn.addEventListener('click', closeOrderModal));
  orderModal.addEventListener('click', e => { if (e.target === orderModal) closeOrderModal(); });

  openDetailsBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      const key = btn.getAttribute('data-product');
      openDetailsModal(key);
    });
  });
  closeDetailsBtns.forEach(btn => btn.addEventListener('click', closeDetailsModal));
  detailsModal.addEventListener('click', e => { if (e.target === detailsModal) closeDetailsModal(); });

  document.addEventListener('keydown', e => {
    if (e.key === 'Escape') {
      if (orderModal.getAttribute('aria-hidden') === 'false') closeOrderModal();
      if (detailsModal.getAttribute('aria-hidden') === 'false') closeDetailsModal();
    }
  });

  // Переключення блоків доставки
  function updateDeliveryBlocks() {
    const method = deliveryMethodSelect.value;
    if (method === 'nova_poshta') {
      npBlock.style.display = '';
      ukrBlock.style.display = 'none';
    } else {
      npBlock.style.display = 'none';
      ukrBlock.style.display = '';
    }
  }
  deliveryMethodSelect.addEventListener('change', updateDeliveryBlocks);
  updateDeliveryBlocks();

  // ====== НОВА ПОШТА API + автокомпліт ======
  const NP_API_KEY = '4caed09a8d94d4237b5edf1cad4533a1';
  const npCityInput = document.getElementById('npCity');
  const npCityList = document.getElementById('npCityList');
  const npCityHint = document.getElementById('npCityHint');
  const npWarehouseInput = document.getElementById('npWarehouse');
  const npWarehouseList = document.getElementById('npWarehouseList');

  let npCitySearchTimeout = null;
  let npSelectedCityRef = null;
  let npWarehouseOptions = [];

  function showList(el) { el.style.display = 'block'; }
  function hideList(el) { el.style.display = 'none'; }

  async function searchNPCities(query) {
    const body = {
      apiKey: NP_API_KEY,
      modelName: "Address",
      calledMethod: "getCities",
      methodProperties: { FindByString: query, Limit: 50 }
    };
    const res = await fetch("https://api.novaposhta.ua/v2.0/json/", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(body)
    });
    const data = await res.json();
    return (data && data.data) ? data.data : [];
  }

  async function loadNPWarehouses(cityRef) {
    const body = {
      apiKey: NP_API_KEY,
      modelName: "AddressGeneral",
      calledMethod: "getWarehouses",
      methodProperties: { CityRef: cityRef, Limit: 200 }
    };
    const res = await fetch("https://api.novaposhta.ua/v2.0/json/", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(body)
    });
    const data = await res.json();
    return (data && data.data) ? data.data : [];
  }

  function renderNPCitySuggestions(list) {
    npCityList.innerHTML = '';
    if (!list.length) {
      npCityList.innerHTML = '<div class="autocomplete-empty">Місто не знайдено</div>';
      showList(npCityList);
      return;
    }
    list.forEach(city => {
      const item = document.createElement('div');
      item.className = 'autocomplete-item';
      item.textContent = city.Description;
      item.dataset.ref = city.Ref;
      item.addEventListener('click', async () => {
        npCityInput.value = city.Description;
        npSelectedCityRef = city.Ref;
        hideList(npCityList);
        npCityHint.textContent = 'Місто вибрано. Завантажуємо відділення...';

        try {
          npWarehouseOptions = await loadNPWarehouses(npSelectedCityRef);
          npWarehouseInput.disabled = false;
          npWarehouseInput.value = '';
          renderNPWarehouseSuggestions('');
          npCityHint.textContent = 'Виберіть відділення або почніть його вводити.';
        } catch (e) {
          console.error(e);
          npCityHint.textContent = 'Не вдалося завантажити відділення.';
        }
      });
      npCityList.appendChild(item);
    });
    showList(npCityList);
  }

  function renderNPWarehouseSuggestions(filterText) {
    npWarehouseList.innerHTML = '';
    if (!npWarehouseOptions.length) {
      npWarehouseList.innerHTML = '<div class="autocomplete-empty">Спочатку оберіть місто</div>';
      showList(npWarehouseList);
      return;
    }
    const q = filterText.toLowerCase();
    const filtered = npWarehouseOptions.filter(w =>
      w.Description.toLowerCase().includes(q)
    ).slice(0, 40);

    if (!filtered.length) {
      npWarehouseList.innerHTML = '<div class="autocomplete-empty">Відділення не знайдено</div>';
      showList(npWarehouseList);
      return;
    }

    filtered.forEach(w => {
      const item = document.createElement('div');
      item.className = 'autocomplete-item';
      item.textContent = w.Description;
      item.addEventListener('click', () => {
        npWarehouseInput.value = w.Description;
        hideList(npWarehouseList);
      });
      npWarehouseList.appendChild(item);
    });
    showList(npWarehouseList);
  }

  if (npCityInput) {
    npCityInput.addEventListener('input', () => {
      const q = npCityInput.value.trim();
      npSelectedCityRef = null;
      npWarehouseOptions = [];
      if (npWarehouseInput) {
        npWarehouseInput.value = '';
        npWarehouseInput.disabled = true;
      }
      hideList(npWarehouseList);

      if (q.length < 2) {
        npCityHint.textContent = 'Введіть мінімум 2 літери.';
        hideList(npCityList);
        return;
      }
      npCityHint.textContent = 'Шукаємо міста...';

      if (npCitySearchTimeout) clearTimeout(npCitySearchTimeout);
      npCitySearchTimeout = setTimeout(async () => {
        try {
          const cities = await searchNPCities(q);
          const qLower = q.toLowerCase();
          const cityOptions = cities.filter(c => c.Description.toLowerCase().startsWith(qLower));
          renderNPCitySuggestions(cityOptions);
          npCityHint.textContent = cityOptions.length
            ? 'Оберіть місто зі списку.'
            : 'Місто не знайдено.';
        } catch (err) {
          console.error(err);
          npCityHint.textContent = 'Не вдалося завантажити список міст.';
        }
      }, 400);
    });
  }

  if (npWarehouseInput) {
    npWarehouseInput.addEventListener('input', () => {
      const q = npWarehouseInput.value.trim();
      renderNPWarehouseSuggestions(q);
    });

    npWarehouseInput.addEventListener('focus', () => {
      if (npWarehouseOptions.length) {
        renderNPWarehouseSuggestions(npWarehouseInput.value.trim());
      }
    });
  }

  // ====== УКРПОШТА API + автокомпліт ======
  const ukrCityInput = document.getElementById('ukrCity');
  const ukrCityList = document.getElementById('ukrCityList');
  const ukrCityHint = document.getElementById('ukrCityHint');
  const ukrOfficeInput = document.getElementById('ukrOffice');
  const ukrOfficeList = document.getElementById('ukrOfficeList');

  let ukrCitySearchTimeout = null;
  let ukrSelectedCityId = null;
  let ukrOfficeOptions = [];

  async function searchUkrCities(query) {
    try {
      const res = await fetch(`https://www.ukrposhta.ua/address-classifier-ws/get_city_by_region_id_and_district_id_and_city_ua?city_ua=${encodeURIComponent(query)}`);
      const data = await res.json();
      return data.Entries || [];
    } catch (e) {
      console.error(e);
      return [];
    }
  }

  async function loadUkrOffices(cityId) {
    try {
      const res = await fetch(`https://www.ukrposhta.ua/address-classifier-ws/get_postoffices_by_city_id?city_id=${cityId}`);
      const data = await res.json();
      return data.Entries || [];
    } catch (e) {
      console.error(e);
      return [];
    }
  }

  function renderUkrCitySuggestions(list) {
    ukrCityList.innerHTML = '';
    if (!list.length) {
      ukrCityList.innerHTML = '<div class="autocomplete-empty">Місто не знайдено</div>';
      showList(ukrCityList);
      return;
    }
    list.forEach(city => {
      const item = document.createElement('div');
      item.className = 'autocomplete-item';
      item.textContent = city.CITY_UA;
      item.dataset.id = city.CITY_ID;
      item.addEventListener('click', async () => {
        ukrCityInput.value = city.CITY_UA;
        ukrSelectedCityId = city.CITY_ID;
        hideList(ukrCityList);
        ukrCityHint.textContent = 'Місто вибрано. Завантажуємо відділення...';

        try {
          ukrOfficeOptions = await loadUkrOffices(ukrSelectedCityId);
          ukrOfficeInput.disabled = false;
          ukrOfficeInput.value = '';
          renderUkrOfficeSuggestions('');
          ukrCityHint.textContent = 'Виберіть відділення або почніть його вводити.';
        } catch (e) {
          console.error(e);
          ukrCityHint.textContent = 'Не вдалося завантажити відділення.';
        }
      });
      ukrCityList.appendChild(item);
    });
    showList(ukrCityList);
  }

  function renderUkrOfficeSuggestions(filterText) {
    ukrOfficeList.innerHTML = '';
    if (!ukrOfficeOptions.length) {
      ukrOfficeList.innerHTML = '<div class="autocomplete-empty">Спочатку оберіть місто</div>';
      showList(ukrOfficeList);
      return;
    }
    const q = filterText.toLowerCase();
    const filtered = ukrOfficeOptions.filter(o => {
      const name = `${o.POSTCODE} ${o.STREET_UA_VPZ || ''} ${o.HOUSENUMBER_UA || ''}`.toLowerCase();
      return name.includes(q);
    }).slice(0, 40);

    if (!filtered.length) {
      ukrOfficeList.innerHTML = '<div class="autocomplete-empty">Відділення не знайдено</div>';
      showList(ukrOfficeList);
      return;
    }

    filtered.forEach(o => {
      const item = document.createElement('div');
      item.className = 'autocomplete-item';
      item.textContent = `${o.POSTCODE} — ${o.STREET_UA_VPZ || ''} ${o.HOUSENUMBER_UA || ''}`.trim();
      item.addEventListener('click', () => {
        ukrOfficeInput.value = `${o.POSTCODE} — ${o.STREET_UA_VPZ || ''} ${o.HOUSENUMBER_UA || ''}`.trim();
        hideList(ukrOfficeList);
      });
      ukrOfficeList.appendChild(item);
    });
    showList(ukrOfficeList);
  }

  if (ukrCityInput) {
    ukrCityInput.addEventListener('input', () => {
      const q = ukrCityInput.value.trim();
      ukrSelectedCityId = null;
      ukrOfficeOptions = [];
      if (ukrOfficeInput) {
        ukrOfficeInput.value = '';
        ukrOfficeInput.disabled = true;
      }
      hideList(ukrOfficeList);

      if (q.length < 2) {
        ukrCityHint.textContent = 'Введіть мінімум 2 літери.';
        hideList(ukrCityList);
        return;
      }
      ukrCityHint.textContent = 'Шукаємо міста...';

      if (ukrCitySearchTimeout) clearTimeout(ukrCitySearchTimeout);
      ukrCitySearchTimeout = setTimeout(async () => {
        try {
          const cities = await searchUkrCities(q);
          renderUkrCitySuggestions(cities);
          ukrCityHint.textContent = cities.length
            ? 'Оберіть місто зі списку.'
            : 'Місто не знайдено.';
        } catch (err) {
          console.error(err);
          ukrCityHint.textContent = 'Не вдалося завантажити список міст.';
        }
      }, 400);
    });
  }

  if (ukrOfficeInput) {
    ukrOfficeInput.addEventListener('input', () => {
      const q = ukrOfficeInput.value.trim();
      renderUkrOfficeSuggestions(q);
    });

    ukrOfficeInput.addEventListener('focus', () => {
      if (ukrOfficeOptions.length) {
        renderUkrOfficeSuggestions(ukrOfficeInput.value.trim());
      }
    });
  }

  // Закриття списків при кліку зовні
  document.addEventListener('click', e => {
    if (!npCityList.contains(e.target) && e.target !== npCityInput) {
      hideList(npCityList);
    }
    if (!npWarehouseList.contains(e.target) && e.target !== npWarehouseInput) {
      hideList(npWarehouseList);
    }
    if (!ukrCityList.contains(e.target) && e.target !== ukrCityInput) {
      hideList(ukrCityList);
    }
    if (!ukrOfficeList.contains(e.target) && e.target !== ukrOfficeInput) {
      hideList(ukrOfficeList);
    }
  });

  // ====== Відправка заявки (webhook) ======
  leadForm.addEventListener('submit', async e => {
    e.preventDefault();
    formStatus.textContent = '';
    formStatus.className = 'form-status';

    const name = document.getElementById('name').value.trim();
    const phone = document.getElementById('phone').value.trim();
    if (!name || !phone) {
      formStatus.textContent = 'Заповніть, будь ласка, імʼя та телефон.';
      formStatus.classList.add('error');
      return;
    }

    const deliveryMethod = deliveryMethodSelect.value;
    const paymentMethod = paymentMethodSelect.value;

    let deliveryCity = null;
    let deliveryWarehouseOrAddress = null;

    if (deliveryMethod === 'nova_poshta') {
      deliveryCity = npCityInput ? npCityInput.value.trim() || null : null;
      deliveryWarehouseOrAddress = npWarehouseInput ? npWarehouseInput.value.trim() || null : null;
    } else {
      deliveryCity = ukrCityInput.value.trim() || null;
      deliveryWarehouseOrAddress = ukrOfficeInput.value.trim() || null;
    }

    const payload = {
      name,
      phone,
      model: modelSelect.value || null,
      deliveryMethod,
      deliveryCity,
      deliveryWarehouseOrAddress,
      paymentMethod,
      message: document.getElementById('message').value.trim() || null,
      page: window.location.href,
      createdAt: new Date().toISOString()
    };

    formStatus.textContent = 'Відправляємо...';

    try {
      const res = await fetch('https://eventscout.pp.ua/webhook/leads', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload)
      });
      if (!res.ok) throw new Error('Network error');

      formStatus.textContent = 'Дякуємо! Ми скоро з вами звʼяжемося.';
      formStatus.classList.add('success');
      leadForm.reset();
      updateDeliveryBlocks();

      if (npCityHint) npCityHint.textContent = 'Введіть мінімум 2 літери.';
      if (ukrCityHint) ukrCityHint.textContent = 'Введіть мінімум 2 літери.';
      npSelectedCityRef = null;
      npWarehouseOptions = [];
      ukrSelectedCityId = null;
      ukrOfficeOptions = [];
      if (npWarehouseInput) npWarehouseInput.disabled = true;
      if (ukrOfficeInput) ukrOfficeInput.disabled = true;
      hideList(npCityList);
      hideList(npWarehouseList);
      hideList(ukrCityList);
      hideList(ukrOfficeList);
    } catch (err) {
      console.error(err);
      formStatus.textContent = 'Помилка при відправці. Спробуйте ще раз.';
      formStatus.classList.add('error');
    }
  });
</script>
</body>
</html>
